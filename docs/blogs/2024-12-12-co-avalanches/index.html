<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nicole Pepper">
<meta name="dcterms.date" content="2024-12-12">
<meta name="description" content="UCSB MEDS - EDS 222 - Stats for Environmental Data Science">

<title>A Look At Elevated Risk Factors for Avalanche Accidents in Colorado</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/pepper-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/np-logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blogs.html"> 
<span class="menu-text">Blogs</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">A Look At Elevated Risk Factors for Avalanche Accidents in Colorado</h1>
            <p class="subtitle lead">Uncovering the Role of Season and Elevation for Avalanche Risk in R</p>
                  <div>
        <div class="description">
          UCSB MEDS - EDS 222 - Stats for Environmental Data Science
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">statistics</div>
                <div class="quarto-category">MEDS</div>
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Nicole Pepper </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 12, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#set-up-workspace" id="toc-set-up-workspace" class="nav-link active" data-scroll-target="#set-up-workspace">1. Set Up Workspace</a></li>
  <li><a href="#read-in-project-data" id="toc-read-in-project-data" class="nav-link" data-scroll-target="#read-in-project-data">2. Read in Project Data</a></li>
  <li><a href="#prepare-data" id="toc-prepare-data" class="nav-link" data-scroll-target="#prepare-data">3. Prepare Data</a>
  <ul class="collapse">
  <li><a href="#take-a-look-at-accidents-by-elevation" id="toc-take-a-look-at-accidents-by-elevation" class="nav-link" data-scroll-target="#take-a-look-at-accidents-by-elevation">Take a Look at Accidents by Elevation</a></li>
  </ul></li>
  <li><a href="#fit-the-generalized-linear-model-for-avalanche-accidents" id="toc-fit-the-generalized-linear-model-for-avalanche-accidents" class="nav-link" data-scroll-target="#fit-the-generalized-linear-model-for-avalanche-accidents">4. Fit the Generalized Linear Model for Avalanche Accidents</a></li>
  <li><a href="#explore-model-results" id="toc-explore-model-results" class="nav-link" data-scroll-target="#explore-model-results">5. Explore Model Results</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References:</a></li>
  <li><a href="#acknowledgments" id="toc-acknowledgments" class="nav-link" data-scroll-target="#acknowledgments">Acknowledgments:</a></li>
  <li><a href="#link-to-github-repo" id="toc-link-to-github-repo" class="nav-link" data-scroll-target="#link-to-github-repo">Link to GitHub Repo:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<p>There is something wondrous about getting yourself up a snowy mountain, beit by the power of a snowmobile or skis underfoot - surrounded by nothing but peaks, trees, and your trusty companions beside. Winter recreation can be really fun, exciting, and uniquely challenging. With advancements in touring and navigating equipment (and cool photos on social media), it’s no surprise that backcountry winter adventures are more popular than ever.</p>
<p><img src="images/backcountry.jpg" class="img-fluid"></p>
<p>As an avid snowboarder, I enjoy exploring the backcountry on skis or by snowmobile. It wasn’t until I moved from California to a mountain town in Northern Colorado, just over 6 years ago, that I fully realized the significant risks that avalanches play in the mountains. Colorado is the most dangerous state for avalanche risk, leading the U.S. in avalanche accidents year to year. Its steep, rugged terrain and cold temperatures, mixed with low-moisture snowstorms creates conditions that make “the perfect storm” for avalanche conditions. These conditions make it harder for snowpack to consolidate, leaving unstable slabs of new snow, sitting on top of weak, faceted older layers, just waiting for a slight trigger to set them in motion. There are a lot of factors that influence avalanche risk, so I wanted to investigate that with my project.</p>
<p>Colorado is fortunate to have the <a href="https://avalanche.state.co.us/">Colorado Avalanche Information Center(CAIC)</a>, which is an organization that provides avalanche education, research, and daily forecasting for the public. They have a robust avalanche reporting and forecasting system. Below is a feature of their interactive dashboard that provides daily avalanche risk forecasting. <img src="images/CAIC.jpg" class="img-fluid"> <a href="https://avalanche.state.co.us/">Check out the CAIC website</a></p>
<p>This is where I got the <a href="https://avalanche.state.co.us/accidents/statistics-and-reporting">avalanche report data</a> for my project. Their readily available dataset has only a subset of information that CAIC collects for their avalanche reports and only contains fatal accidents, excluding avalanche accidents where a human was involved (but no fatality occurred). This limited the type of question that I could ask for this assignment, given the timeline.</p>
<p>I know that CAIC has a danger scale that ranges from low to extreme and they actually, and they designate different risk levels for three elevation bands: below ( &lt; 11,000ft), near (11,000 - 12,000 ft), and above (12,000ft + ). This is because various environmental factors (like temperature, wind, precipitation) influence how snow consolidates at these levels. Knowing that elevation plays an important role in how CAIC designates and communicates avalanche risk, I designed my research question around how elevation impacts the risk of an avalanche accident.</p>
<p><em>The model formation that I ended up landing on was:</em></p>
<section id="avalanche-accidents-month-elevation-band-month-elevation-band" class="level5">
<h5 class="anchored" data-anchor-id="avalanche-accidents-month-elevation-band-month-elevation-band"><em>Avalanche Accidents ~ Month + Elevation Band + Month : Elevation Band</em></h5>
<p>Variations in temperature and precipitation patterns play an important role in how snowpack consolidates across different elevation bands. To capture these variations, I include “elevation band” (below, near, and above treeline) and “month” predictor variables. Month is being treated as a proxy for environmental variations that could impact avalanche likelihood, since month is a variable available in the CAIC dataset, this was a practical, though indirect, way for me to consider those variables for this project. Additionally, I incorporated an interaction term between month and elevation. My reasoning behind this is that the effect of elevation on avalanche might vary by the time of the year. My intuition about the relationship between elevation, month, and avalanche is as follows:</p>
<ul>
<li>Below Treeline: I expect to see more avalanche accidents overall compared to other elevation bands, with relatively little variation across months</li>
<li>Above Treeline: I anticipate fewer avalanche accidents overall, but significant variability across months</li>
<li>Near Treeline: I predict it would fall somewhere in between, with moderate avalanche accidents and seasonal variation</li>
</ul>
<p>I made an attempt to visualize this hypothesis in the figure below:</p>
<p><img src="images/project_intuition.jpg" class="img-fluid"> For this analysis the <code>Null Hypothesis (H₀)</code> is that there is no interaction between elevation zones and months in determining avalanche fatality rates and the <code>Alternative Hypothesis</code> is that Avalanche fatality rates differ by elevation zone and month.</p>
<p>So without further ado, let’s jump into my beginner’s <code>R</code> analysis exploring the impact of elevation and season and elevation on season, on avalanche risk in Colorado.</p>
</section>
<section id="set-up-workspace" class="level2">
<h2 class="anchored" data-anchor-id="set-up-workspace">1. Set Up Workspace</h2>
<p>To get started, I need to set up my workspace. In the code chunk below, I load in the packages that will be necessary for my analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Load required packages ----</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) <span class="co"># for file management</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for data wrangling</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># for plotting</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># for tables and visualizing things</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># for creating tables</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT) <span class="co"># for creating df tables</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) <span class="co"># for creating table for glm results</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra) <span class="co"># for working with vector spatial data</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf) <span class="co"># for working with vector spatial data</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(elevatr) <span class="co"># for extracting elevation at points</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-in-project-data" class="level2">
<h2 class="anchored" data-anchor-id="read-in-project-data">2. Read in Project Data</h2>
<p>Next up, I read in CAIC’s avalanche accident data, filtered for the state of Colorado. The data is made up of 271 avalanche observations from 1951 - 2023. A table of the project data is below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Read in data ----</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>av_accidents <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"avalanche_accidents.csv"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">"CO"</span>) <span class="co"># Filter for Colorado (CO) in State Column</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create table for CO avalanche data</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(av_accidents, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-437b0bf7e0f18a3495ac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-437b0bf7e0f18a3495ac">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271"],[2023,2023,2023,2023,2023,2023,2023,2023,2023,2022,2022,2022,2022,2022,2022,2021,2021,2021,2021,2021,2021,2021,2021,2021,2020,2020,2020,2020,2020,2019,2019,2019,2019,2019,2019,2019,2018,2018,2018,2017,2016,2016,2016,2016,2016,2015,2015,2015,2014,2014,2014,2014,2014,2014,2014,2013,2013,2013,2013,2013,2013,2013,2012,2012,2012,2012,2012,2012,2012,2011,2011,2011,2011,2011,2011,2011,2010,2010,2010,2010,2010,2010,2010,2009,2009,2009,2008,2008,2008,2008,2008,2007,2007,2007,2007,2007,2006,2006,2006,2005,2005,2005,2005,2005,2004,2004,2004,2003,2003,2003,2003,2003,2003,2002,2002,2002,2002,2002,2002,2002,2002,2001,2001,2001,2001,2000,2000,2000,2000,2000,2000,2000,1999,1999,1999,1999,1999,1998,1998,1998,1998,1998,1998,1997,1996,1996,1996,1996,1996,1996,1996,1995,1995,1995,1995,1995,1995,1995,1995,1994,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1992,1992,1992,1992,1992,1992,1992,1992,1991,1991,1991,1991,1991,1991,1991,1990,1990,1990,1990,1989,1989,1989,1988,1988,1987,1987,1987,1987,1987,1987,1986,1986,1986,1985,1985,1985,1985,1984,1984,1984,1984,1984,1984,1984,1983,1983,1983,1983,1983,1982,1982,1982,1982,1981,1981,1981,1980,1979,1979,1978,1978,1978,1978,1977,1976,1976,1976,1975,1975,1975,1975,1975,1975,1975,1974,1973,1973,1972,1972,1971,1970,1968,1968,1967,1966,1965,1965,1963,1962,1962,1961,1960,1960,1959,1958,1958,1957,1957,1952,1952,1951],[2023,2023,2023,2023,2023,2023,2023,2022,2022,2022,2022,2022,2022,2022,2021,2021,2021,2021,2021,2021,2021,2020,2020,2020,2020,2020,2020,2020,2019,2019,2019,2019,2019,2019,2019,2019,2018,2018,2018,2017,2016,2016,2016,2016,2016,2015,2015,2014,2014,2014,2014,2014,2014,2014,2013,2013,2013,2013,2013,2013,2013,2012,2012,2012,2012,2012,2012,2012,2012,2011,2011,2011,2011,2011,2010,2010,2010,2010,2010,2010,2010,2010,2010,2008,2008,2008,2008,2008,2008,2008,2007,2007,2007,2007,2007,2006,2006,2005,2005,2005,2005,2005,2005,2005,2004,2004,2004,2003,2003,2003,2003,2003,2003,2002,2002,2002,2002,2002,2002,2002,2001,2001,2001,2001,2000,2000,2000,2000,2000,2000,1999,1999,1999,1999,1999,1999,1999,1998,1998,1998,1998,1998,1997,1997,1996,1996,1996,1996,1996,1996,1995,1995,1995,1995,1995,1995,1995,1995,1994,1994,1993,1993,1993,1993,1993,1993,1993,1993,1992,1992,1992,1992,1992,1992,1992,1992,1992,1992,1991,1991,1991,1991,1991,1990,1990,1990,1990,1990,1990,1989,1989,1989,1988,1987,1987,1987,1987,1987,1987,1987,1986,1985,1985,1985,1984,1984,1984,1984,1984,1984,1984,1984,1984,1983,1983,1983,1983,1983,1982,1982,1982,1982,1981,1981,1981,1980,1979,1979,1979,1978,1978,1978,1977,1977,1976,1976,1976,1975,1975,1975,1974,1974,1974,1974,1973,1972,1972,1972,1971,1971,1970,1968,1967,1967,1965,1965,1965,1963,1962,1961,1961,1960,1960,1959,1958,1958,1957,1957,1952,1951,1951],[4,3,3,3,2,2,1,12,12,5,3,3,2,1,12,3,2,2,2,2,2,12,12,12,4,4,2,1,12,3,3,3,2,2,1,1,4,4,1,2,2,2,1,1,1,2,1,12,3,3,2,2,2,1,12,4,4,3,3,2,1,12,3,2,2,1,1,1,1,5,4,2,2,1,12,11,3,3,3,3,2,2,1,12,12,12,2,1,1,1,12,3,3,3,2,12,1,12,11,5,4,3,3,1,4,3,3,3,3,3,3,2,2,3,3,3,3,2,2,2,11,4,3,2,12,4,3,1,1,1,12,12,4,2,2,1,1,4,4,3,3,1,12,7,3,2,2,2,1,1,12,4,4,2,2,2,1,1,10,4,4,4,2,1,1,1,1,1,12,11,6,6,4,3,3,3,2,2,4,3,3,2,2,12,11,3,2,2,1,4,2,2,1,12,3,3,2,2,2,1,2,11,11,3,12,12,10,6,4,3,3,3,1,12,3,3,3,1,12,3,1,1,12,3,3,11,11,2,1,4,2,1,11,5,7,3,1,1,1,1,12,12,12,11,10,12,12,8,10,3,3,2,11,1,12,4,1,3,1,11,2,3,2,2,2,2,4,2,1,12,4],[29,19,17,16,25,25,7,31,26,29,19,17,25,8,24,22,16,14,14,4,1,26,19,18,28,15,15,18,8,9,7,3,19,16,21,5,10,8,21,14,5,2,22,21,16,23,6,31,5,4,15,10,10,7,31,20,18,17,2,2,13,30,30,16,13,22,22,21,18,21,4,22,20,17,5,22,30,19,12,10,23,11,6,27,17,14,1,12,10,4,2,13,13,3,4,21,1,22,6,20,1,24,6,3,9,20,10,22,20,9,5,23,17,17,15,14,14,24,6,1,28,3,18,25,29,21,17,25,25,23,21,14,7,6,6,30,22,19,1,8,1,21,30,5,4,21,4,3,27,23,31,24,9,25,14,12,21,14,16,9,9,8,13,26,22,13,12,9,3,1,13,13,1,29,5,1,25,18,20,17,6,17,5,2,7,7,25,18,2,2,14,5,10,29,15,3,18,14,2,8,26,21,17,24,31,13,17,18,14,31,19,17,26,18,12,9,6,30,25,13,23,6,20,31,3,27,22,10,6,16,10,6,2,22,4,29,17,15,14,9,28,21,15,23,13,13,8,20,17,16,2,24,26,7,20,1,31,3,21,24,23,19,13,3,14,14,8,24,7,30,25],["Bald Mountain, southeast of Breckenridge","Maroon Bowl, north of Highland Peak","Rapid Creek, southwest of Marble","Purgatory Creek, north of Durango","South of Vallecito Reservoir","Red Lakes Trailhead, near La Manga Pass","Pumphouse Lake, southwest of Rollins Pass","Number 5, Carter Gulch southwest of Breckenridge","Nitro Chute, north of Berthoud Pass","Mount Meeker, Rocky Mountain National Park","North Fork of Fish Creek, near Steamboat Springs","Pilot Knob, east of Lizard Head Pass","Yule Creek","North Star Mountain, Hoosier Pass","Diamond Peaks, Cameron Pass","Lime Creek south of Edwards","West of Ruby Mountain, southeast of Rand","Near Mount Trelease, north of Loveland Pass","Pumphouse Lake, southwest of Rollins Pass","Marvin’s West, East Vail backcountry southeast of Vail","The Nose, Middle Fork Mineral Creek southeast of Ophir","First Creek, north of Berthoud Pass","North Face of Battleship, southeast of Ophir","Near Ohio Pass, Anthracite Range","Mount Emmons, west of Crested Butte","Point 12885 near Red Peak, west of Silverthorne","South Fork of Dickson Creek, east of Red and White Mountain","Uncompahgre Gorge, south of Ouray","Diamond Peaks, west of Cameron Pass","Crested Butte South","Point 12118, east of Jones Pass","Base Camp above Matterhorn Nordic trailhead, northeast of Lizard Head Pass","Temptation avalanche path, Bear Creek, south of Telluride","Pearl Pass Road, Brush Creek Drainage","Green Mountain, Express Creek","Upper Senator Beck Basin, northwest of Red Mountain Pass","Northwest of Glacier Peak, Middle Fork Swan River","Maroon Bowl, west of Aspen Highlands","South of Red Mountain Pass, Sam's Trees","Near West Lost Lake, Flat Tops Wilderness area","Cottonwood Pass, west of Buena Vista","Lost Mine Creek, east of Wolf Creek Pass","Red Mountain, Clear Creek County","Ruby Peak, Ruby Range west of Crested Butte","St Marys Lake, Front Range","Peter Barker path, near Aspen Mountain","Rabbit Ears path, Kendall Mountain","Kelso Mountain","Sharkstooth Peak, La Plata Mountains","Diablo Ridge, Pt. 12,505, approx. 1 mile W of Conejos Peak","Star Mountain, near Twin Lakes","North Fork Swan River, south of Keystone Ski Area","Near Kebler Pass, west of Crested Butte","East Vail, backcountry southeast of Vail Ski Area","Parkview Mountain, west of Willow Creek Pass","Sheep Creek, north of Loveland Pass","Ptarmigan Hill, near Vail Pass","Ypsilon Mountain, Rocky Mountain National Park","Nokhu Crags, Never Summer Mountains","Cement Creek, near Silverton","Raspberry Creek, near Marble","Ships Prow Glades, Snowmass Ski Area","Ophir Pass, Paradise Basin","Gibbs Creek, near Wolf Creek Pass","Contention Fingers, Bear Creek, Telluride","Prima Cornice, Vail","Trestle Trees, Winter Park","Chedsey Creek, North Park","Burnt Mountain near Snowmass Village","Torreys Peak","Highlands Ridge, Desolation Row, Aspen zone","East Snowmass Creek Valley, Sand's Chute","Sand Peak-Flat Tops","\"High Trail Cliffs,\" northeast of Berthoud Pass","Dry Gulch-East of Eisenhower Tunnel","Wolf Creek Pass Ski Area, Glory Hole Point","Near Baldy Peak, east of Ridgway","Southwest of Creede","Near Antora Peak south of Buena Vista","Steep Gully #1, west of Arapahoe Basin Ski Area","Lindley Backcountry Hut south of Aspen","Near the Ridgway Hut, San Juan Mountains","Battle Mountain, Vail sidecountry","Gravel Mountain, north of Granby","Northwest of Crested Butte","Near Aspen Ski Area","Little Box Canyon","King Tut, East Vail backcountry southeast of Vail","Blanca Peak","CDC, East Vail backcountry southeast of Vail","Cameron Pass","Mount Shimer","Mount Shimer","Echo Lake, Mt Evans","North Peak","Snowmass","Trap Peak","Kelso Mountain","Berthoud Pass, Mines 2","ARAPAHOE BASIN","GRAND MESA CLIFFS","BRECKENRIDGE QUANDARY PEAK SOUTH COULOIR","ASPEN HIGHLANDS FIVE FINGER BOWL","BUFFALO PASS SODA MOUNTAIN","SAWATCH RANGE / BROWNS PEAK","SAWATCH RANGE / LA PLATA PEAK","BRECKENRIDGE / MT GUYOT","LA PLATA MTNS / BURRO MTN","ARAPAHOE BASIN / PORCUPINE MTN","SAWATCH RANGE / COTTONWOOD PASS / PTARMIGAN LAKE","ST ELMO / SAWATCH RANGE / HANCOCK PASS","SAWATCH RANGE / ELK HEAD PASS /MISSOURI BASIN NR BELFORD","DRY GULCH / SNOOPY","FLATTOPS / PAGODA PEAK","TELLURIDE OB / TEMPTER BOWL","ASHCROFT / LINDLEY HUT","ASPEN MTN OB / PANDORAS","GLENWOOD SPRINGS / MINER BASIN","CRYSTAL PEAK / FRIENDS HUT","ASPEN HIGHLANDS","YANKEE DOODLE LAKE","TENMILE RANGE / W SIDE","STEAMBOAT / FARWELL MTN","CRESTED BUTTE OHIO PASS","CAMERON PASS DIAMOND PKS","ABASIN MARJORIE BOWL","ASPEN HIGHLANDS","ASPEN HURRICANE","ABASIN BEAVERS","JONES PASS","QUANDARY PEAK","CAMERON PASS","OPHIR","CUMBERLAND PASS","CUMBERLAND PASS","GRAND MESA","ASPEN HIGHLANDS","BERTHOUD PASS russel","ST MARYS GLACIER","ASPEN MTN","BERTHOUD PASS russel","LIZARD HEAD PASS San Bernardo Pk","GUANELLA PASS","GLADSTONE PK","EAST VAIL CHUTES","VAIL","ABASIN BEAVERS 2","COTTONWOOD PASS","ASPEN PYRAMID PK","ASPEN MCFARLANE BOWL","VAIL PASS Narrows","PIKES PEAK","ENGINEER MTN","RUBY CK, URAD MINE","CONUNDRUM CREEK","DRY GULCH","KELBER PASS","FRANCIES CABIN","MT BELFORD","COAL BANK PASS","BUFFALO MT","CRESTED BUTTE","ARAPAHOE BASIN","10 MILE CANYON","BRECKENRIDGE","SUNLIGHT","EAST VAIL","CAMERON PASS","EAST VAIL CHUTES","Rocky Mountain Nat Park / FLATTOP","LOOKOUT PK","S MAROON PK","BERTHOUD PASS","MONTEZUMA","RED MOUNTAIN PASS","LOST LAKE","SNEFFELS RANGE","BEAVER CREEK","LONGS PEAK RMNP","LOVELAND PASS / GRIZZLY PK","CASTLE CREEK","COTTENWOOD PASS","ARAPAHOE BASIN OB","TENMILE RANGE / FLETCHER MTN","LAPLATA MTNS","RED MOUNTAIN PASS / OH BOY","FREMONT PASS","CRESTED BUTTE","VAIL / OB MUSHROOM BOWL","LOVELAND PASS","TELLURIDE","CRESTED BUTTE","ASHCROFT / PEARL PASS","BERTHOUD PASS 2ND CREEK","SHRINE PASS","WOLF CREEK PASS / TREASURE MTN","BRECKENRIDGE","TELLURIDE","TELLURIDE","TELLURIDE","VAIL (ob)","FRENCH GULCH","LA PLATA MTNS","BERTHOUD PASS","ASHCROFT","ASPEN","KELSO MTN","ELK MTNS","MARBLE / CHAIR MTN","ASPEN HIGHLANDS","DALLAS DIVIDE","VAIL PASS","Town of Steamboat","COPPER MOUNTAIN","GRAND LAKE","CRESTED BUTTE","DEER CREEK","WOLF CREEK PASS","MONTEZUMA","ARAPAHOE BASIN","CUMBRES PASS","ARAPAHOE BASIN","LEADVILLE","SNOWMASS","WOLF CREEK PASS","ST MARYS GLACIER","TELLURIDE","LOVELAND BASIN","GUANELLA PASS","MT SOPRIS","RED MOUNTAIN PASS","SHEEP MT","EL DIENTE PK","S ARAPAHOE PK","ROCKY MOUNTAIN NAT PARK","MT NAST","BERTHOUD PASS","CASTLE CREEK","GARFIELD","CRESTED BUTTE","ASPEN MTN","GUANELLA PASS","MONARCH PASS","ARAPAHOE BASIN","ROCKY MOUNTAIN NAT PARK","STEAMBOAT","ASPEN MTN","MITCHELL LAKE","POLE CREEK","ASPEN MTN (McFarlane Gulch)","RED MOUNTAIN PASS","LEADVILLE","ARAPAHOE BASIN","LOVELAND PASS","GENEVA BASIN","MORROW POINTDAM","HOMESTAKE LAKE","RED MOUNTAIN PASS","TWIN LAKES","ARAPAHOE BASIN","ASPEN MTN","SAWATCH / LA PLATA PEAK","BERTHOUD PASS (Floral Park)","ASPEN MTN","CAMP BIRD HWY","CAMP BIRD HWY","DAM SLIDE","ST MARYS LAKE","SILVERTON","WOLF CREEK PASS","MONARCH PASS"],["AS","AS","AS","N","AS","AM","AM","AS","AR","N","AS","AR","AI","AI","AS","AS","AM","AR","AM","AS","AS","AS","AS","AS","AS","AS","AV","N","AS","AF","N","AS","AR","AS","AS","AS",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[2,3,3,null,2,2.5,2.5,2,2,3,2,2.5,2,2,2,null,3,3,2,2,2.5,1.5,2.5,2,2,2,2,1,2,null,3.5,2,2,2,2.5,2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["BC","BC","BC","TN","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","TN","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","SA","BC","BC","BC","SA","SA","BC","BC","BC","BC","BC","BC","BC","BC","SA","BC","TN","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","SA","BC","BC","BC","SA","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","SA","BC","SA","BC","BC","SA","BC","BC","BC","BC","BC","SA","SA","BC","SA","BC","BC","BC","BC","BC","BC","BC","SA","BC","BC","SA","BC","BC","BC","BC","SA","TN","BC","BC","BC","BC","BC","BC","BC","BC","RS","BC","BC","BC","BC","BC","BC","SA","SA","BC","BC","SA","BC","BC","BC","BC","BC","BC","BC","BC","RD","BC","BC","SA","BC","BC","BC","BC","BC","BC","BC","BC","BC","SA","SA","BC","BC","TN","BC","BC","BC","BC","BC","BC","BC","BC","SA","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","BC","TN","SA","BC","SA","BC","SA","BC","SA","BC","SA","BC","SA","BC","BC","BC","SA","BC","BC","RD","BC","BC","BC","BC","BC","BC","BC","BC","SA","SA","BC","BC","SA","BC","SA","SA","BC","BC","BC","RD","BC","SA","BC","SA","MN","MN","RD","TN","SA","SA","BC","BC","SA","RD","RD","RD","BC","RD","RD","RD"],["CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO","CO"],["39.446","39.135","39.048","37.629","37.369","37.078","39.924","39.452","39.802","40.25337","40.50566","37.811","39.0633427","39.3698477","40.5108549","39.5776","40.3544","39.6927","39.93438","39.6059","37.84364","39.8261","37.82931","38.83428","38.89532","39.6458","39.6897","37.983432","40.51611","38.80363","39.78113","37.82918","37.90765","38.900249","39.0255","37.91467","39.48928","39.1356","37.868103","40.07444","38.78811","37.49201","39.75178","38.89564","39.8328","39.16365","37.80219","39.65381","37.46096","37.29154","39.0601","39.54231","38.85159","39.60126","40.34187","39.6789","39.49593","40.45562","40.49092","37.89819","39.04972","39.17266","37.84165","37.5023","37.92179","39.61276","39.88692","40.56363","39.18044","39.64473","39.1341833","39.1766667","40.1167083","39.80247","39.7630556","37.4599722","38.12291","37.74434","38.32872","39.63599","39.00458","38.02697","39.5595","40.2676","38.89737","39.13588","39.79637","39.59875","37.56332394","39.60277641","40.52352047","39.10021879","39.10021879","39.64455","37.48493484","39.17417794","40.51823354","39.64997863","39.79976669","39.63570346","39.05444058","39.38977265","39.12319169","40.55012905","38.95980398","39.03198157","39.4691953","37.67885051","39.61487936","38.77737059","38.62115878","38.95026085","39.71319538","40.13922422","37.90121404","39.00481237","39.1527502","39.36068213","38.95806345","39.16772491","39.93797283","39.45846051","40.82587951","38.83126633","40.5148114","39.63900749","39.13091237","#REF!","#REF!","39.77424143","39.38997168","40.51393041","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["-105.960","-106.877","-107.258","-107.814","-107.572","-106.413","-105.691","-106.076","-105.781","-105.600944","-106.72047","-107.838","-107.1758918","-106.0733894","-105.8907319","-106.5548","-105.96973","-105.8909","-105.68267","-106.2956","-107.76892","-105.772","-107.74661","-107.09508","-107.03138","-106.15636","-106.4702","-107.655867","-105.90773","-106.8897","-105.86643","-107.8806","-107.81133","-106.871974","-106.78511","-107.73362","-105.8942633","-106.87936","-107.731504","-107.24227","-106.38731","-106.70106","-105.83877","-107.12571","-105.64831","-106.83021","-107.65048","-105.79688","-108.0689","-106.56876","-106.52531","-105.90649","-107.0978","-106.30123","-106.11978","-105.86839","-106.26114","-105.67725","-105.89048","-107.65301","-107.19519","-106.875","-107.7812","-106.80041","-107.80952","-106.35495","-105.76066","-106.64257","-106.92264","-105.81825","-106.8850167","-106.9752778","-107.3775583","-105.76991","-106.0983333","-106.7997778","-107.67303","-107.10425","-106.23696","-105.88544","-106.80244","-107.76825","-106.34039","-105.9995","-107.01826","-106.8024","-107.65328","-106.29621","-105.503296","-106.298302","-105.873138","-106.731148","-106.731148","-105.58999","-106.541466","-106.944435","-105.84417","-105.796799","-105.765465","-105.878418","-108.052078","-106.102867","-106.875687","-106.718529","-106.448074","-106.483955","-105.935242","-108.033371","-105.914383","-106.390312","-106.370575","-106.363106","-105.90683","-107.348953","-107.82103","-106.801826","-106.809509","-107.429977","-106.798096","-106.866333","-105.655472","-106.12999","-106.842384","-107.096786","-105.899963","-105.864685","-106.888649","#REF!","#REF!","-105.889061","-106.097374","-105.897987","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["Backcountry Tourer","Sidecountry Rider","Backcountry Tourer","Resident","Backcountry Tourer","Snowmobiler","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Climber","Backcountry Tourer","Backcountry Tourer","Resident","Hiker","Backcountry Tourer","Sidecountry Rider","Snowmobiler","Backcountry Tourer","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Climber","Backcountry Tourer","Resident","Mechanized Guide","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Snowbiker","Snowbiker","Snowmobiler","Backcountry Tourer","Snowmobiler","Climber","Sidecountry Rider","Backcountry Tourer","Climber","Snowmobiler","Ski Patroller","Backcountry Tourer","Sidecountry Rider","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Backcountry Tourer","Hybrid Rider","Climber","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Ski Patroller","Backcountry Tourer","Backcountry Tourer","Sidecountry Rider","Inbounds Rider","Inbounds Rider","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Sidecountry Rider","Backcountry Tourer","Snowmobiler","Backcountry Tourer","Backcountry Tourer","Ski Patroller","Climber","Resident","Snowmobiler","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Backcountry Tourer","Sidecountry Rider","Snowmobiler","Sidecountry Rider","Climber","Sidecountry Rider","Hiker","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Inbounds Rider","Snowmobiler","Hiker","Backcountry Tourer","Inbounds Rider","Backcountry Tourer","Climber","Sidecountry Rider","Backcountry Tourer","Hiker","Climber","Snowmobiler","Snowmobiler","Backcountry Tourer","Snowmobiler","Snowmobiler","Backcountry Tourer","Climber","Snowmobiler","Inbounds Rider","Backcountry Tourer","Sidecountry Rider","Snowmobiler","Backcountry Tourer","Sidecountry Rider","Backcountry Tourer","Snowmobiler","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Backcountry Tourer","Inbounds Rider","Hiker","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Snowmobiler","Sidecountry Rider","Hiker","Hiker","Sidecountry Rider","Sidecountry Rider","Backcountry Tourer","Hiker","Climber","Sidecountry Rider","Resident","Sidecountry Rider","Snowmobiler","Climber","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Climber","Snowmobiler","Resident","Backcountry Tourer","Snowmobiler","Backcountry Tourer","Climber","Backcountry Tourer","Backcountry Tourer","Ski Patroller","Sidecountry Rider","Climber","Sidecountry Rider","Inbounds Rider","Sidecountry Rider","Backcountry Tourer","Sidecountry Rider","Climber","Climber","Climber","Backcountry Tourer","Mechanized Guiding Client","Highway Personnel","Hiker","Backcountry Tourer","Sidecountry Rider","Climber","Snowplayer","Backcountry Tourer","Snowmobiler","Sidecountry Rider","Climber","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Sidecountry Rider","Sidecountry Rider","Backcountry Tourer","Sidecountry Rider","Resident","Backcountry Tourer","Backcountry Tourer","Snowmobiler","Mechanized Guiding Client","Sidecountry Rider","Sidecountry Rider","Sidecountry Rider","Sidecountry Rider","Sidecountry Rider","Backcountry Tourer","Miner","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Climber","Ski Patroller","Backcountry Tourer","Backcountry Tourer","Resident","Ski Patroller","Snowmobiler","Sidecountry Rider","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Sidecountry Rider","Backcountry Tourer","Sidecountry Rider","Hiker","Ski Patroller","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Sidecountry Rider","Backcountry Tourer","Snowmobiler","Highway Personnel","Backcountry Tourer","Climber","Climber","Climber","Others at Work","Backcountry Tourer","Backcountry Tourer","Backcountry Tourer","Inbounds Rider","Sidecountry Rider","Backcountry Tourer","Backcountry Tourer","Ski Patroller","Climber","Inbounds Rider","Sidecountry Rider","Hiker","Hunter","Mechanized Guide","Highway Personnel","Snowmobiler","Ski Patroller","Climber","Inbounds Rider","Others at Work","Others at Work","Motorist","Resident","Inbounds Rider","Sidecountry Rider","Climber","Backcountry Tourer","Inbounds Rider","Miner","Rescuer","Highway Personnel","Climber","Miner","Motorist","Motorist"],["Ski","Ski","Ski","Foot","Ski","Snowmobile","Snowmobile","Ski","Ski","Foot","Ski","Snowboard","Snowshoe","Snowshoe","Ski","Ski","Snowmobile","Snowboard","Snowmobile","Ski","Ski","Ski","Ski","Ski","Ski","Ski","Snowbike","Foot","Ski","Foot","Ski","Ski","Ski","Ski","Ski","Ski","Snowmobile","Ski","Ski","Snowbike","Snowbike","Snowmobile","Snowboard","Snowmobile","Foot","Ski","Ski","Snowshoe","Snowmobile","Ski","Ski","Ski","Snowmobile","Ski","Snowboard","Snowboard","Snowboard","Foot","Ski","Ski","Ski","Ski","Ski","Ski","Snowboard","Ski","Ski","Snowmobile","Ski","Snowboard","SKi","Ski","Snowmobile","Snowboard","Ski","Ski","Ski","Foot","Snowmobile","Snowboard","Ski","Ski","Snowboard","Snowmobile","Snowboard","Ski","Snowmobile","Ski",null,"Snowboard","Snowshoe","Snowboard","Ski","Snowshoe",null,"Ski","Snowmobile",null,"Ski","Ski","Ski","Foot",null,"Ski","Snowshoe",null,null,null,"Ski",null,null,"Ski",null,null,"Snowboard","Ski","Ski",null,"Ski","Ski","Ski",null,"Ski","Ski",null,"Ski","Ski","Ski","Snowboard","Snowshoe","Ski","Ski","Ski","Ski",null,null,"Ski","Snowshoe",null,"Ski","Snowboard","Snowboard","Snowshoe",null,"Ski","Foot","Snowboard",null,null,"Ski","Snowboard","Ski",null,null,"Foot","Ski",null,"Ski",null,"Ski","Ski",null,"Ski",null,"Ski","Snowboard","Ski","Ski","Ski",null,null,null,"Ski",null,null,"Snowshoe","Ski","Ski",null,null,"Ski",null,"Ski",null,"Ski","Ski","Snowboard","Ski","Ski","Ski","Ski","Foot","Ski","Ski",null,null,"Ski","Ski","Ski","Ski","Ski","Ski",null,"Ski","Ski","Ski","Ski","Ski",null,"Ski","Ski","Ski","Foot",null,null,"Ski","Ski","Ski","Ski","Ski","Ski","Ski",null,null,"Ski","Ski","Ski","Ski","Ski",null,null,"Ski",null,null,null,null,"Ski","Ski","Ski","Ski","Ski","Ski","Ski",null,null,"Ski","Ski",null,null,"Ski",null,null,null,null,"Ski",null,null,null,"Foot","Ski","Ski",null,"Ski","Ski",null,null,"Foot",null,null,null,null],[1,1,1,1,2,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,3,1,2,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,3,2,2,1,4,1,2,1,1,2,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,3,7,1,1,1,1,1,1,3,2,1,1,2,2],["1 backcountry tourer caught, buried, and killed","1 sidecountry rider caught, partially buried-critical, and killed","3 backcountry tourers caught, 2 injured, 1 buried and killed","3 residents caught, buried, and 1 killed","2 backcountry skiers caught, buried, and killed","1 snowmobiler caught, buried, and killed","2 snowmobilers caught, buried, and killed","2 sidecountry riders caught, 1 partially buried-critical, 1 buried and killed","4 backcountry tourers caught, 2 fully buried, and 1 killed","3 climbers caught, 1 partially buried, 1 injured, 1 buried and killed","1 backcountry skier caught, partially buried-critical, and killed","1 backcountry snowboarder caught, buried, and killed","3 snowshoers caught, 2 partially buried, 1 buried and killed. 2 dogs killed","2 snowshoers and a dog caught, buried, and killed","1 backcountry skier caught, fully buried, and killed","1 sidecountry skier caught and killed","2 snowmobilers caught, 1 partially buried, 1 buried and killed","1 backcountry snowboarder caught, partially-buried critical, killed","1 snowmobiler caught, partially buried-critical, and killed","2 sidecountry skiers caught, 1 buried and killed","4 backcountry skiers caught and buried, 3 killed","1 skier caught, buried, and killed","2 backcountry skiers caught, buried, and killed","1 backcountry skier caught, buried, and killed","1 backcountry skier caught, killed","2 backcountry tourers caught and carried, 1 killed","3 snowbike riders caught, 1 partially buried, 2 buried and killed","1 climber struck by falling ice, buried, and killed","1 backcountry skier, caught, buried, and killed","2 residents caught and buried, 1 killed","1 mechanized guide caught, buried, and killed; 1 mechanized guide client caught","1 backcountry tourer caught, buried, and killed","1 sidecountry rider caught, 1 backcountry skier caught, buried, and killed","2 backcountry tourers caught, buried, and killed","1 backcountry tourer caught, buried, and killed","6 backcountry tourers caught, 1 partially buried, 1 buried and killed","1 snowmobiler caught, buried, and killed","2 sidecountry riders caught, 1 killed","2 backcountry skiers caught and partially buried, 1 killed","2 snow bike riders caught, 1 buried and killed","1 snow bike rider, caught, partially buried-critical, and killed","2 snowmobilers caught, 1 partially buried, 1 fully buried and killed","1 backcountry tourer caught, killed","2 snowmobilers caught, 1 partially buried uninjured, 1 fully buried and killed","1 climber caught, buried, killed.","1 sidecountry rider caught, buried, and killed","One backcountry skier, caught, carried, partially buried, and killed","One climber, traveling on snowshoes, caught, buried, and killed","1 snowmobiler fully buried, missing and presumed dead","1 snowmobiler fully buried, missing and presumed dead","5 skiers caught, 3 injured, 2 killed","2 skiers caught, 1 partially buried, 1 buried and killed","2 snowmobilers caught, 1 partially buried, 1 buried and killed","4 riders caught, 1 injured, 1 killed","One backcountry traveler buried and killed","6 backcountry tourers caught, 1 partially buried, 5 buried and killed","1 snowboarder caught and killed","2 climbers caught, 2 injured, 1 killed","2 skiers caught, 1 partially buried-critical and injured, 1 buried and killed","3 skiers caught, 1 buried and killed, 1 partially buried, 1 injured","1 skier caught, buried, and killed","1 ski patroller killed",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["4/29/2023","3/19/2023","3/17/2023","3/16/2023","2/25/2023","2/25/2023","1/7/2023","12/31/2022","12/26/2022","5/29/22","3/19/22","3/17/22","2/25/22","1/8/22","12/24/21","3/22/21","2/16/21","2/14/21","2/14/21","2/4/21","2/1/21","12/26/20","12/19/20","12/18/20","4/28/20","4/15/20","2/15/20","1/18/20","12/8/19","3/9/19","3/7/19","3/3/19","2/19/19","2/16/19","1/21/19","1/5/19","4/10/18","4/8/18","1/21/18","2/14/17","2/5/16","2/2/16","1/22/16","1/21/16","1/16/16","2/23/15","1/6/15","12/31/14","3/5/14","3/4/14","2/15/14","2/10/14","2/10/14","1/7/14","12/31/13","4/20/13","4/18/13","3/17/13","3/2/13","2/2/13","1/13/13","12/30/12","3/30/12","2/16/12","2/13/12","1/22/12","1/22/12","1/21/12","1/18/12","5/21/11","4/4/11","2/22/11","2/20/11","1/17/11","12/5/10","11/22/10","3/30/10","3/19/10","3/12/10","3/10/10","2/23/10","2/11/10","1/6/10","12/27/08","12/17/08","12/14/08","2/1/08","1/12/08","1/10/08","1/4/08","12/2/07","3/13/07","3/13/07","3/3/07","2/4/07","12/21/06","1/1/06","12/22/05","11/6/05","5/20/05","4/1/05","3/24/05","3/6/05","1/3/05","4/9/04","3/20/04","3/10/04","3/22/03","3/20/03","3/9/03","3/5/03","2/23/03","2/17/03","3/17/02","3/15/02","3/14/02","3/14/02","2/24/02","2/6/02","2/1/02","11/28/01","4/3/01","3/18/01","2/25/01","12/29/00","4/21/00","3/17/00","1/25/00","1/25/00","1/23/00","12/21/99","12/14/99","4/7/99","2/6/99","2/6/99","1/30/99","1/22/99","4/19/98","4/1/98","3/8/98","3/1/98","1/21/98","12/30/97","7/5/97","3/4/96","2/21/96","2/4/96","2/3/96","1/27/96","1/23/96","12/31/95","4/24/95","4/9/95","2/25/95","2/14/95","2/12/95","1/21/95","1/14/95","10/16/94","4/9/94","4/9/93","4/8/93","2/13/93","1/26/93","1/22/93","1/13/93","1/12/93","1/9/93","12/3/92","11/1/92","6/13/92","6/13/92","4/1/92","3/29/92","3/5/92","3/1/92","2/25/92","2/18/92","4/20/91","3/17/91","3/6/91","2/17/91","2/5/91","12/2/90","11/7/90","3/7/90","2/25/90","2/18/90","1/2/90","4/2/89","2/14/89","2/5/89","1/10/88","12/29/87","3/15/87","3/3/87","2/18/87","2/14/87","2/2/87","1/8/87","2/26/86","11/21/85","11/17/85","3/24/85","12/31/84","12/13/84","10/17/84","6/18/84","4/14/84","3/31/84","3/19/84","3/17/84","1/26/84","12/18/83","3/12/83","3/9/83","3/6/83","1/30/83","12/25/82","3/13/82","1/23/82","1/6/82","12/20/81","3/31/81","3/3/81","11/27/80","11/22/79","2/10/79","1/6/79","4/16/78","2/10/78","1/6/78","11/2/77","5/22/77","7/4/76","3/29/76","1/17/76","1/15/75","1/14/75","1/9/75","12/28/74","12/21/74","12/15/74","11/23/74","10/13/73","12/13/72","12/8/72","8/20/72","10/17/71","3/16/71","3/2/70","2/24/68","11/26/67","1/7/67","12/20/65","4/1/65","1/31/65","3/3/63","1/21/62","11/24/61","2/23/61","3/19/60","2/13/60","2/3/59","2/14/58","2/14/58","4/8/57","2/24/57","1/7/52","12/30/51","4/25/51"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>AvyYear<\/th>\n      <th>YYYY<\/th>\n      <th>MM<\/th>\n      <th>DD<\/th>\n      <th>Location<\/th>\n      <th>Trigger<\/th>\n      <th>D Size<\/th>\n      <th>Setting<\/th>\n      <th>State<\/th>\n      <th>lat<\/th>\n      <th>lon<\/th>\n      <th>PrimaryActivity<\/th>\n      <th>TravelMode<\/th>\n      <th>Killed<\/th>\n      <th>Description<\/th>\n      <th>Date<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":3,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,7,14]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"AvyYear","targets":1},{"name":"YYYY","targets":2},{"name":"MM","targets":3},{"name":"DD","targets":4},{"name":"Location","targets":5},{"name":"Trigger","targets":6},{"name":"D Size","targets":7},{"name":"Setting","targets":8},{"name":"State","targets":9},{"name":"lat","targets":10},{"name":"lon","targets":11},{"name":"PrimaryActivity","targets":12},{"name":"TravelMode","targets":13},{"name":"Killed","targets":14},{"name":"Description","targets":15},{"name":"Date","targets":16}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[3,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="prepare-data" class="level2">
<h2 class="anchored" data-anchor-id="prepare-data">3. Prepare Data</h2>
<p>Before I can extract elevation values for the accident locations, I need to convert the <code>av_accidents</code> data to a spatial object. In the next code chunk, I clean <code>lat</code> and <code>lon</code> columns by removing ‘NA’ and obscure values including values ‘0’ and ‘#REF!’, then I convert the data frame to a spatial object using the <code>sf</code> packages <code>st_as_sf</code> tool.</p>
<section id="convert-av_accidents-to-a-spatial-object" class="level4">
<h4 class="anchored" data-anchor-id="convert-av_accidents-to-a-spatial-object">Convert av_accidents to a Spatial Object</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Clean av_accidents data ----</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean lat and lon columns by removing NAs, 0, and #REF values</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>av_accidents <span class="ot">&lt;-</span> av_accidents <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(lat, lon) <span class="sc">%&gt;%</span> <span class="co"># Drop NAs in lat and lon columns</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(lat, lon), as.character)) <span class="sc">%&gt;%</span>  <span class="co"># Ensure columns are characters for filtering</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(lat <span class="sc">!=</span> <span class="st">"0"</span>, lon <span class="sc">!=</span> <span class="st">"0"</span>, lat <span class="sc">!=</span> <span class="st">"#REF!"</span>, lon <span class="sc">!=</span> <span class="st">"#REF!"</span>) <span class="sc">%&gt;%</span> <span class="co"># Remove values that equal 0 or #REF!</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(lat, lon), as.numeric))  <span class="co"># Convert back to numeric</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert avalanche accidents to spatial object to extract elevation at geometry</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>av_points <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_as_sf</span>(av_accidents, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"lon"</span>, <span class="st">"lat"</span>), <span class="at">crs =</span> <span class="dv">4326</span>) <span class="co"># Use 4326 to match Elevatr data crs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="extract-prepare-elevation-at-accident-locations" class="level4">
<h4 class="anchored" data-anchor-id="extract-prepare-elevation-at-accident-locations">Extract &amp; Prepare Elevation at Accident Locations</h4>
<p>To get the elevation at accident locations I use the <code>get_elev_point</code> tool from the <a href="https://cran.r-project.org/web/packages/elevatr/index.html"><code>elevatr</code></a> package. This tool accesses USGS elevation from the Amazon Warehouse Service API to extract elevation at points without having to download a whole raster.</p>
<p>Then I add a column for <code>elevation_group</code>, because for my project I specifically want to look at avalanche risk relative to the different elevation bands that CAIC forecasts for using the values in the table below for “Below”, “Near” and “Above” treeline.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 26%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Elevation Band</th>
<th>Min Elevation (m)</th>
<th>Max Elevation (m)</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Below Treeline (&lt; 11,000ft)</td>
<td></td>
<td>3,352</td>
<td></td>
</tr>
<tr class="even">
<td>Near Treeline (11,000ft &lt; 12,000ft)</td>
<td>3,352</td>
<td>3,652</td>
<td></td>
</tr>
<tr class="odd">
<td>Above Treeline ( 12,000ft &lt; )</td>
<td>3,652</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Extract elevation at avalanche accident locations ----</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Call in elevation data using `elevatr`</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>av_points <span class="ot">&lt;-</span> <span class="fu">get_elev_point</span>(<span class="at">locations =</span> av_points,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">prj =</span> sf<span class="sc">::</span><span class="fu">st_crs</span>(<span class="dv">4326</span>)<span class="sc">$</span>proj4string)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the result back to a data frame by replacing av_accidents</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>av_accidents <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(av_points)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Clean and remove unwanted elevation values ---- </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>av_accidents <span class="ot">&lt;-</span> av_accidents <span class="sc">%&gt;%</span> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(elevation <span class="sc">!=</span> <span class="dv">0</span>, elevation <span class="sc">!=</span> <span class="sc">-</span><span class="dv">10000</span>) </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Add a column for elevation band  ---- </span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Define and add a column for elevation groups</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>av_accidents <span class="ot">&lt;-</span> av_accidents <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">elevation_group =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    elevation <span class="sc">&lt;</span> <span class="fl">3352.8</span> <span class="sc">~</span> <span class="st">"Below Treeline"</span>,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    elevation <span class="sc">&gt;=</span> <span class="fl">3352.8</span> <span class="sc">&amp;</span> elevation <span class="sc">&lt;=</span> <span class="dv">3652</span> <span class="sc">~</span> <span class="st">"Near Treeline"</span>,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    elevation <span class="sc">&gt;</span> <span class="dv">3652</span> <span class="sc">~</span> <span class="st">"Above Treeline"</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="take-a-look-at-accidents-by-elevation" class="level3">
<h3 class="anchored" data-anchor-id="take-a-look-at-accidents-by-elevation">Take a Look at Accidents by Elevation</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Plot accidents by elevation group ----</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> av_accidents) <span class="sc">+</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> elevation),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"#4ECBDE"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">c</span>(<span class="fl">3352.8</span>, <span class="dv">3652</span>), <span class="at">color =</span> <span class="st">"firebrick"</span>, <span class="at">size =</span> <span class="fl">0.75</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">vjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Avalanches Accidents by Elevation Zone in Colorado"</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Elevation (Meters)"</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Avalanche</span><span class="sc">\n</span><span class="st">Accidents"</span>) <span class="sc">+</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">3100</span>, <span class="at">y =</span> .<span class="dv">5</span>), </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Below Treeline"</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fontface =</span> <span class="st">"italic"</span>) <span class="sc">+</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">3500</span>, <span class="at">y =</span> .<span class="dv">82</span>), </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Near</span><span class="sc">\n</span><span class="st">Treeline"</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fontface =</span> <span class="st">"italic"</span>) <span class="sc">+</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">3850</span>, <span class="at">y =</span> .<span class="dv">5</span>), </span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Above Treeline"</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fontface =</span> <span class="st">"italic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="prepare-the-month-data-for-avalanche-accidents" class="level4">
<h4 class="anchored" data-anchor-id="prepare-the-month-data-for-avalanche-accidents">Prepare the Month Data for Avalanche Accidents</h4>
<p>Next, I want to prepare the month data for my model. I’d like to start by creating a preliminary graph to see the distribution of avalanche accidents by month. Before I can do that, I want to create a month names column and assign their respective names. To do this, I define vector lists for <code>month_labels</code> (for their names) and <code>month_levels</code> to reorder them sequentially for the winter season. Then I create a new column in the <code>av_accidents</code> dataset as an ordered factor; I set the labels equal to <code>month_labels</code>, the levels as <code>month_levels</code>, and the ordered parameter to <code>TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Prepare month column for preliminary plots ----</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define month labels and order</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>month_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>month_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"September"</span>, <span class="st">"October"</span>, <span class="st">"November"</span>, <span class="st">"December"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"January"</span>, <span class="st">"February"</span>, <span class="st">"March"</span>, <span class="st">"April"</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"May"</span>, <span class="st">"June"</span>, <span class="st">"July"</span>, <span class="st">"August"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>av_accidents<span class="sc">$</span>month_names <span class="ot">&lt;-</span> <span class="fu">factor</span>(av_accidents<span class="sc">$</span>MM, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">levels =</span> month_levels, </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">labels =</span> month_labels, </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now it’s time to visualize avalanche accidents by month in Colorado.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Plot accidents by month sorted by season order ----</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> av_accidents) <span class="sc">+</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> month_names),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"#4ECBDE"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> <span class="fl">0.8</span>)  <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>,<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">hjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">vjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(month_names), <span class="at">label =</span> ..count..),</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"count"</span>,                        </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"firebrick"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontface =</span> <span class="st">"bold"</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Avalanche Accidents in Colorado by Month"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Fatal</span><span class="sc">\n</span><span class="st">Accidents"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This plot above is a bar chart with <code>month_names</code> on the x-axis and the count of fatal accidents on the y-axis for Colorado from 1950 - 2023. Based on the plot, it looks like there are fewer fatal avalanches in November and May than in the middle winter months, like February and March. This data shows that March has observed the most avalanche accidents, with a total of 35 fatal accidents.</p>
<p>Looking at the distribution of accidents across months, it is more of a curved than a linear relationship between month and fatal accidents. Considering that I’m going to be performing a generalized linear model (glm), it would be beneficial to transform my data in a way that will fit be more linear. Since March is the month with the highest number of accidents, I’m going to create a new column for my dataset based off of the months ‘distance’ (months) to March.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 26%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Month Name</th>
<th>Month Number ‘MM’</th>
<th>Distance to March (months)</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>January</td>
<td>1</td>
<td>2</td>
<td></td>
</tr>
<tr class="even">
<td>February</td>
<td>2</td>
<td>1</td>
<td></td>
</tr>
<tr class="odd">
<td>March</td>
<td>3</td>
<td>0</td>
<td></td>
</tr>
<tr class="even">
<td>April</td>
<td>4</td>
<td>1</td>
<td></td>
</tr>
<tr class="odd">
<td>May</td>
<td>5</td>
<td>2</td>
<td></td>
</tr>
<tr class="even">
<td>June</td>
<td>6</td>
<td>3</td>
<td></td>
</tr>
<tr class="odd">
<td>July</td>
<td>7</td>
<td>4</td>
<td></td>
</tr>
<tr class="even">
<td>August</td>
<td>8</td>
<td>5</td>
<td></td>
</tr>
<tr class="odd">
<td>September</td>
<td>9</td>
<td>6</td>
<td></td>
</tr>
<tr class="even">
<td>October</td>
<td>10</td>
<td>5</td>
<td></td>
</tr>
<tr class="odd">
<td>November</td>
<td>11</td>
<td>4</td>
<td></td>
</tr>
<tr class="even">
<td>December</td>
<td>12</td>
<td>3</td>
<td></td>
</tr>
</tbody>
</table>
<p>In the code chunk below, I create a key to assign a new month column <code>MM_to_March</code> based on their closest distance (months) to March.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Prepare the MM_to_March column for glm ----</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>month_distance_to_march <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1"</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">"2"</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">"3"</span> <span class="ot">=</span> <span class="dv">0</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"4"</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">"5"</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">"6"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"7"</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">"8"</span> <span class="ot">=</span> <span class="dv">5</span>, <span class="st">"9"</span> <span class="ot">=</span> <span class="dv">5</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"10"</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">"11"</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">"12"</span> <span class="ot">=</span> <span class="dv">3</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the MM column to distances relative to March</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>av_accidents<span class="sc">$</span>MM_to_March <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(month_distance_to_march[<span class="fu">as.character</span>(av_accidents<span class="sc">$</span>MM)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="fit-the-generalized-linear-model-for-avalanche-accidents" class="level2">
<h2 class="anchored" data-anchor-id="fit-the-generalized-linear-model-for-avalanche-accidents">4. Fit the Generalized Linear Model for Avalanche Accidents</h2>
<p>The question that I’m exploring with my generalized linear model is <em>How does month and elevation zone and their interaction influence the probability of a fatal avalanche accident?</em> Before I perform the glm, I need to group and aggregate my data by the variables that I will including in the model: <code>MM_to_March</code> and <code>elevation_group</code>.</p>
<p>A reminder that <code>MM_to_March</code> is a continuous variable for distance (months) to March, since March was the month with the most amount of avalanche accidents. Additionally, <code>elevation_group</code>, which will be treated as a categorical variable, designates which of the three major elevation bands, that CAIC categorizes for avalanche risk, the avalanche accidents occurred in.</p>
<p>Alright, so now that I have my data all prepped, I’m ready to set up my model:</p>
<p><em>The model formulation is:</em> ##### <em>Avalanche Accidents ~ MM_to_March + elevation_group + MM_to_March : elevation_group</em></p>
<p>The family of model that I ended up using was <strong>Poisson(link = “log”)</strong>. This is a standard family for modeling count data, which assumes that the response variable follows a Poisson distribution with a mean that is a function of the predictors. The <code>log</code> link is commonly used for this family because it ensures the predicted count remains positive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Define the glm for avalanche accidents ----</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data by Month and elevation group</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>av_accidents_agg <span class="ot">&lt;-</span> av_accidents <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(MM_to_March, elevation_group) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">accidents =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the avalanche accident model</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>av_accident_glm <span class="ot">&lt;-</span> <span class="fu">glm</span>(accidents <span class="sc">~</span> elevation_group <span class="sc">+</span> MM_to_March <span class="sc">+</span> elevation_group<span class="sc">:</span>MM_to_March, </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link =</span> <span class="st">"log"</span>), </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> av_accidents_agg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="explore-model-results" class="level2">
<h2 class="anchored" data-anchor-id="explore-model-results">5. Explore Model Results</h2>
<p>In the code chunk below I explore my model results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore model results</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(av_accident_glm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = accidents ~ elevation_group + MM_to_March + elevation_group:MM_to_March, 
    family = poisson(link = "log"), data = av_accidents_agg)

Coefficients:
                                          Estimate Std. Error z value Pr(&gt;|z|)
(Intercept)                                2.16171    0.29739   7.269 3.62e-13
elevation_groupBelow Treeline              0.90758    0.35059   2.589  0.00963
elevation_groupNear Treeline               0.59954    0.36502   1.642  0.10049
MM_to_March                               -0.24403    0.18341  -1.330  0.18336
elevation_groupBelow Treeline:MM_to_March -0.14839    0.21036  -0.705  0.48056
elevation_groupNear Treeline:MM_to_March  -0.04744    0.21269  -0.223  0.82351
                                             
(Intercept)                               ***
elevation_groupBelow Treeline             ** 
elevation_groupNear Treeline                 
MM_to_March                                  
elevation_groupBelow Treeline:MM_to_March    
elevation_groupNear Treeline:MM_to_March     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 48.317  on 13  degrees of freedom
Residual deviance: 16.027  on  8  degrees of freedom
AIC: 81.934

Number of Fisher Scoring iterations: 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- Make a nice table for GLM results ----</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy the GLM results</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>glm_summary <span class="ot">&lt;-</span> <span class="fu">tidy</span>(av_accident_glm)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create using kable</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(glm_summary, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"GLM Coefficients for Avalanche Accidents"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>GLM Coefficients for Avalanche Accidents</caption>
<colgroup>
<col style="width: 53%">
<col style="width: 11%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">2.162</td>
<td style="text-align: right;">0.297</td>
<td style="text-align: right;">7.269</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">elevation_groupBelow Treeline</td>
<td style="text-align: right;">0.908</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">2.589</td>
<td style="text-align: right;">0.010</td>
</tr>
<tr class="odd">
<td style="text-align: left;">elevation_groupNear Treeline</td>
<td style="text-align: right;">0.600</td>
<td style="text-align: right;">0.365</td>
<td style="text-align: right;">1.642</td>
<td style="text-align: right;">0.100</td>
</tr>
<tr class="even">
<td style="text-align: left;">MM_to_March</td>
<td style="text-align: right;">-0.244</td>
<td style="text-align: right;">0.183</td>
<td style="text-align: right;">-1.330</td>
<td style="text-align: right;">0.183</td>
</tr>
<tr class="odd">
<td style="text-align: left;">elevation_groupBelow Treeline:MM_to_March</td>
<td style="text-align: right;">-0.148</td>
<td style="text-align: right;">0.210</td>
<td style="text-align: right;">-0.705</td>
<td style="text-align: right;">0.481</td>
</tr>
<tr class="even">
<td style="text-align: left;">elevation_groupNear Treeline:MM_to_March</td>
<td style="text-align: right;">-0.047</td>
<td style="text-align: right;">0.213</td>
<td style="text-align: right;">-0.223</td>
<td style="text-align: right;">0.824</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Let’s dig into the details:</p>
<p><em>Coefficients for elevation:</em></p>
<ul>
<li>The intercept or <code>Above Tree Line</code> group for my model, which is when the month is March (<code>MM_to_March</code> = 0) at reference group set to “Above Tree Line”, returned a coefficient as 2.16 and a significant p-value. Given the significance of the p-value, this suggests that being “Above Tree Line” is a significant predictor for my model.</li>
<li>The <code>Below Treeline</code> group for my model provided a coefficient of 0.98 and a significant p-value of 0.01. This suggests that accidents are significantly more likely to happen in the “Below Treeline” group.</li>
<li>The <code>Near Treeline</code> group for my model returned an estimate of 0.6 and an insignificant p-value of 0.1, which provides evidence that being in the “Near Treeline” group does not meaningfully influence the likelihood of a fatal avalanche accident.</li>
</ul>
<p><em>Coefficients for month:</em></p>
<ul>
<li>The <code>MM_to_March</code> group returned a coefficient of -0.244 which suggests that as you move away from March there are fewer fatal accidents, however the p-value of 0.183 suggests that this relationship is not significant.</li>
</ul>
<p><em>Coefficients for interaction term:</em></p>
<ul>
<li>Non of the interaction terms had a significant p-value, which provides evidence that the effect of elevation does not vary significantly by month.</li>
</ul>
<section id="overall-conclusion" class="level5">
<h5 class="anchored" data-anchor-id="overall-conclusion">Overall conclusion</h5>
<p>The model results show that, for my avalanche data, distance from March and the interaction between distance from March and elevation group are not significant predictors for avalanche accidents. This provides evidence that these factors alone do not substantially affect the avalanche accident counts. However, the model did provide evidence that elevation group, particularly that being below treeline positively influence the likelihood of a fatal avalanche accident occurring.</p>
<p>To me this result is likely influenced by the reality that more people recreate closer to trailheads, which typically are closer or below treeline and less people travel further into the backcountry, rather than an environmental factor like the model was hoping to get at. The preliminary plot showing avalanche count by elevation showed that the residuals after 4000 m are very negative, which supports my assumption, so this could certainly be impacting the results of my model.</p>
<p>Some important things that I want to point out are that my data didn’t fit a linear pattern very well, which is important for using glms. So I don’t think that the question that I asked for the data was ideal. Avalanches are seasonal and I believe that there are better ways for modeling this type of data that I’m not yet familiar with.</p>
<p>Additionally, avalanche fatalities have an important behavioral factor that was difficult for me to model with this data, and given the scope of this project, so I think that incorporating that could be interesting in the future. It would also be be cool to investigate the proportion of fatal vs non-fatal accidents. This would require me finding additional data from CAIC or another group.</p>
<p>This analysis certainly raises more questions than answers, but I thoroughly enjoyed going through the process of defining a research question, finding data, following my intuition, and designing a model.</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References:</h3>
<ul>
<li><p>Colorado Avalanche Information Center (CAIC), CAIC Accident Data 2023 (https://avalanche.state.co.us/accidents/statistics-and-reporting) <em>Access date: 12/01/24</em></p></li>
<li><p>United States Geologic Survey (USGS), The National Map - Elevation Point Query Service.(https://apps.nationalmap.gov/epqs/) Accessed using <a href="https://cran.r-project.org/web/packages/elevatr/index.html"><code>Elevator</code></a> package in R. <em>Access date: 12/01/24</em></p></li>
</ul>
</section>
<section id="acknowledgments" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgments">Acknowledgments:</h3>
<p>This assignment was created for UCSB MEDS, EDS 223 - Statistics for Environmental Data Science. Thank you to our professor Max Czapanskiy and teaching assistant Leo Feitosa for their wisdom and support throughout the class.</p>
</section>
<section id="link-to-github-repo" class="level3">
<h3 class="anchored" data-anchor-id="link-to-github-repo">Link to GitHub Repo:</h3>
<p><a href="https://github.com/nicolelpepper/co-avalanche-accidents">https://github.com/nicolelpepper/co-avalanche-accidents</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Nicole Pepper</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website was built with <i class="fa-brands fa-github" title="GitHub" aria-label="github"></i></p>
</div>
  </div>
</footer>




</body></html>